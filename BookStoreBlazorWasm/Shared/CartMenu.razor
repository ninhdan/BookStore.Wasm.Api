@implements IDisposable
@inject IShoppingCartService shoppingCartService


<style>
    .custome-badge{
        position: absolute;
        top: 3px;
        right: 0;
        transform: translate(50%, -50%);
        border-radius: 50%;
        width: 15px;
        height: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 9px;
        background-color: #C92127;
    }
</style>





<RadzenLink href="ShoppingCart" style="position: relative; display: inline-block;">
    <RadzenIcon Icon="shopping_cart " IconColor="#7A7E7F" Style="font-size: 20px; vertical-align: middle;" />
    <span class="badge custome-badge">@shoppingCartItemCount</span>
</RadzenLink>





@code{
    private int shoppingCartItemCount = 0;

    protected override void OnInitialized()
    {
        shoppingCartService.OnShoppingCartChanged += ShoppingCartChangend;
    }

    protected void ShoppingCartChangend(int totalQty)
    {
        shoppingCartItemCount = totalQty;
        StateHasChanged();
    }

    void IDisposable.Dispose()
    {
        shoppingCartService.OnShoppingCartChanged -= ShoppingCartChangend;
    }



}